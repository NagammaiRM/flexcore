<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="FlexCore - Revolutionary modular footwear system with interchangeable cores. Transform every step with our innovative shoe technology.">
  <meta name="keywords" content="modular shoes, interchangeable footwear, eco-friendly shoes, FlexCore, innovative footwear">
  <meta name="author" content="FlexCore">
  
  <title>FlexCore - Transform Every Step | Modular Footwear Revolution</title>
  
  <!-- Favicon -->
  <link rel="icon" href="https://i.imgur.com/vjMQVmY.png" type="image/png">
  <link rel="apple-touch-icon" href="https://i.imgur.com/vjMQVmY.png">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;900&family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet">
  
  <!-- Three.js for 3D elements -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" defer></script>

  <style>
    :root {
      --primary-color: #667eea;
      --secondary-color: #764ba2;
      --accent-color: #f093fb;
      --text-dark: #2d3748;
      --text-light: #718096;
      --bg-white: #ffffff;
      --bg-light: #f7fafc;
      --border-color: #e2e8f0;
      --shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      --gradient: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      --border-radius: 12px;
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .dark-mode {
      --text-dark: #e2e8f0;
      --text-light: #a0aec0;
      --bg-white: #1a202c;
      --bg-light: #2d3748;
      --border-color: #4a5568;
      --shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      line-height: 1.6;
      color: var(--text-dark);
      background: var(--bg-light);
      transition: var(--transition);
      overflow-x: hidden;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    /* Enhanced Loading Screen */
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--gradient);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }

    .loading-screen.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .loader {
      text-align: center;
    }

    .loader-text {
      font-size: 3rem;
      font-weight: 900;
      color: white;
      margin-bottom: 2rem;
      animation: pulse 2s infinite, glow 2s infinite alternate;
    }

    .loader-bar {
      width: 300px;
      height: 6px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 3px;
      overflow: hidden;
      position: relative;
    }

    .loader-bar::after {
      content: '';
      display: block;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent);
      transform: translateX(-100%);
      animation: load 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    @keyframes glow {
      0% { text-shadow: 0 0 20px rgba(255,255,255,0.5); }
      100% { text-shadow: 0 0 30px rgba(255,255,255,0.8); }
    }

    @keyframes load {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(300px); }
    }

    /* Enhanced Navigation */
    .navbar {
      position: fixed;
      top: 0;
      width: 100%;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border-color);
      z-index: 1000;
      transition: var(--transition);
    }

    .dark-mode .navbar {
      background: rgba(26, 32, 44, 0.95);
    }

    .nav-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 2rem;
    }

    .nav-brand {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .nav-logo {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      transition: var(--transition);
    }

    .nav-logo:hover {
      transform: rotate(360deg) scale(1.1);
    }

    .nav-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary-color);
      background: var(--gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .nav-menu {
      display: flex;
      gap: 2rem;
    }

    .nav-link {
      color: var(--text-dark);
      text-decoration: none;
      font-weight: 500;
      padding: 0.5rem 1rem;
      border-radius: var(--border-radius);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .nav-link::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: var(--gradient);
      transition: var(--transition);
      z-index: -1;
    }

    .nav-link:hover::before {
      left: 0;
    }

    .nav-link:hover,
    .nav-link.active {
      color: white;
      transform: translateY(-2px);
    }

    .nav-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .cart-btn {
      background: var(--primary-color);
      color: white;
      border: none;
      padding: 0.75rem 1rem;
      border-radius: var(--border-radius);
      cursor: pointer;
      font-weight: 600;
      position: relative;
      transition: var(--transition);
    }

    .cart-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }

    .cart-badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: var(--accent-color);
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      font-weight: 700;
    }

    .nav-toggle {
      display: none;
      flex-direction: column;
      gap: 4px;
      background: none;
      border: none;
      cursor: pointer;
    }

    .nav-toggle span {
      width: 25px;
      height: 3px;
      background: var(--text-dark);
      border-radius: 2px;
      transition: var(--transition);
    }

    /* Enhanced Hero Section */
    .hero {
      position: relative;
      min-height: 100vh;
      display: flex;
      align-items: center;
      background: var(--gradient);
      color: white;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="20" cy="20" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="50" r="1" fill="white" opacity="0.1"/><circle cx="80" cy="80" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>') repeat;
      animation: float 20s infinite linear;
    }

    @keyframes float {
      0% { transform: translate(0, 0); }
      100% { transform: translate(-100px, -100px); }
    }

    .hero-content {
      position: relative;
      z-index: 2;
      text-align: center;
      max-width: 800px;
      margin: 0 auto;
    }

    .hero-badge {
      display: inline-block;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
      padding: 0.75rem 2rem;
      border-radius: 50px;
      margin-bottom: 2rem;
      border: 1px solid rgba(255, 255, 255, 0.3);
      animation: bounce 2s infinite;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-10px); }
      60% { transform: translateY(-5px); }
    }

    .hero-title {
      font-size: clamp(2.5rem, 8vw, 4.5rem);
      font-weight: 900;
      margin-bottom: 1rem;
      line-height: 1.2;
      animation: slideInUp 1s ease-out;
    }

    .gradient-text {
      background: linear-gradient(45deg, #f093fb, #f5f7fa, #c471f5);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: shimmer 3s infinite;
    }

    @keyframes shimmer {
      0% { background-position: -200% center; }
      100% { background-position: 200% center; }
    }

    @keyframes slideInUp {
      0% { transform: translateY(50px); opacity: 0; }
      100% { transform: translateY(0); opacity: 1; }
    }

    .hero-subtitle {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
      opacity: 0.9;
      animation: slideInUp 1s ease-out 0.2s both;
    }

    .hero-description {
      font-size: 1.1rem;
      margin-bottom: 3rem;
      opacity: 0.8;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      animation: slideInUp 1s ease-out 0.4s both;
    }

    .hero-stats {
      display: flex;
      justify-content: center;
      gap: 3rem;
      margin-bottom: 3rem;
      animation: slideInUp 1s ease-out 0.6s both;
    }

    .stat {
      text-align: center;
      transition: var(--transition);
    }

    .stat:hover {
      transform: scale(1.1);
    }

    .stat-number {
      display: block;
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: var(--accent-color);
    }

    .stat-label {
      font-size: 0.9rem;
      opacity: 0.8;
    }

    .hero-actions {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
      animation: slideInUp 1s ease-out 0.8s both;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 1rem 2rem;
      border: none;
      border-radius: var(--border-radius);
      font-weight: 600;
      text-decoration: none;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      transform: translate(-50%, -50%);
      transition: width 0.3s ease, height 0.3s ease;
    }

    .btn:hover::before {
      width: 300px;
      height: 300px;
    }

    .btn-primary {
      background: white;
      color: var(--primary-color);
    }

    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 35px rgba(255, 255, 255, 0.3);
    }

    .btn-secondary {
      background: transparent;
      color: white;
      border: 2px solid white;
    }

    .btn-secondary:hover {
      background: white;
      color: var(--primary-color);
      transform: translateY(-3px);
    }

    .btn-large {
      padding: 1.25rem 2.5rem;
      font-size: 1.1rem;
    }

    /* 3D Globe Section */
    .globe-section {
      padding: 6rem 0;
      background: var(--bg-white);
      text-align: center;
    }

    .globe-container {
      position: relative;
      width: 100%;
      height: 500px;
      margin: 3rem auto;
      border-radius: var(--border-radius);
      overflow: hidden;
      box-shadow: var(--shadow);
    }

    #globe-canvas {
      width: 100%;
      height: 100%;
      cursor: grab;
    }

    #globe-canvas:active {
      cursor: grabbing;
    }

    .store-locations {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin-top: 3rem;
    }

    .location-card {
      background: var(--bg-light);
      padding: 2rem;
      border-radius: var(--border-radius);
      transition: var(--transition);
      border: 2px solid transparent;
    }

    .location-card:hover {
      transform: translateY(-5px);
      border-color: var(--primary-color);
      box-shadow: var(--shadow);
    }

    .location-flag {
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    /* Shoe Configurator */
    .configurator-section {
      padding: 6rem 0;
      background: var(--bg-light);
    }

    .configurator-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4rem;
      align-items: start;
    }

    .shoe-preview {
      position: sticky;
      top: 100px;
      background: var(--bg-white);
      padding: 3rem;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      text-align: center;
    }

    .shoe-viewer {
      width: 100%;
      height: 400px;
      background: linear-gradient(45deg, #f8f9fa, #e9ecef);
      border-radius: var(--border-radius);
      margin-bottom: 2rem;
      position: relative;
      overflow: hidden;
    }

    .shoe-model {
      width: 80%;
      height: 80%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      transition: var(--transition);
    }

    .shoe-model:hover {
      transform: translate(-50%, -50%) scale(1.05) rotateY(10deg);
    }

    .configurator-controls {
      background: var(--bg-white);
      padding: 3rem;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
    }

    .control-group {
      margin-bottom: 3rem;
    }

    .control-label {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--text-dark);
    }

    .color-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(50px, 1fr));
      gap: 1rem;
    }

    .color-option {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: 3px solid transparent;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
    }

    .color-option.active {
      border-color: var(--primary-color);
      transform: scale(1.1);
    }

    .color-option:hover {
      transform: scale(1.05);
    }

    .size-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
      gap: 1rem;
    }

    .size-option {
      padding: 1rem;
      background: var(--bg-light);
      border: 2px solid var(--border-color);
      border-radius: var(--border-radius);
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      font-weight: 600;
    }

    .size-option.active,
    .size-option:hover {
      background: var(--primary-color);
      color: white;
      border-color: var(--primary-color);
    }

    .core-selector {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;
    }

    .core-option {
      background: var(--bg-light);
      border: 2px solid var(--border-color);
      border-radius: var(--border-radius);
      padding: 1.5rem;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .core-option.active {
      background: var(--primary-color);
      color: white;
      border-color: var(--primary-color);
    }

    .core-option:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow);
    }

    .core-icon {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    .price-display {
      font-size: 2rem;
      font-weight: 700;
      color: var(--primary-color);
      margin: 2rem 0;
      text-align: center;
      padding: 1rem;
      background: rgba(102, 126, 234, 0.1);
      border-radius: var(--border-radius);
    }

    /* Space Organizer Enhanced */
    .space-section {
      padding: 6rem 0;
      background: var(--bg-white);
    }

    .closet-simulator {
      max-width: 1200px;
      margin: 0 auto;
      text-align: center;
    }

    .room-selector {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin: 2rem 0;
    }

    .room-btn {
      padding: 1rem 2rem;
      background: var(--bg-light);
      border: 2px solid var(--border-color);
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: var(--transition);
      font-weight: 600;
    }

    .room-btn.active {
      background: var(--primary-color);
      color: white;
      border-color: var(--primary-color);
    }

    .closet-comparison {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
      margin: 3rem 0;
    }

    .closet-side {
      background: var(--bg-light);
      border-radius: var(--border-radius);
      padding: 3rem;
      box-shadow: var(--shadow);
    }

    .traditional-side {
      border: 2px solid #e53e3e;
    }

    .flexcore-side {
      border: 2px solid var(--primary-color);
    }

    .shoe-rack {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1rem;
      margin: 2rem 0;
    }

    .shoe-slot {
      aspect-ratio: 1;
      background: var(--bg-white);
      border: 2px dashed var(--border-color);
      border-radius: var(--border-radius);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      cursor: pointer;
      transition: var(--transition);
    }

    .shoe-slot.filled {
      border-style: solid;
      border-color: var(--primary-color);
      background: rgba(102, 126, 234, 0.1);
    }

    .shoe-slot:hover {
      transform: scale(0.95);
    }

    .core-organizer {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 0.5rem;
      margin: 1rem 0;
    }

    .core-slot {
      aspect-ratio: 1;
      background: var(--primary-color);
      border-radius: var(--border-radius);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 0.8rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
    }

    .core-slot:hover {
      transform: scale(1.05);
      background: var(--secondary-color);
    }

    .space-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
      margin: 3rem 0;
    }

    .stat-card {
      background: var(--gradient);
      color: white;
      padding: 2rem;
      border-radius: var(--border-radius);
      text-align: center;
    }

    .stat-value {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    /* Payment Portal */
    .payment-section {
      padding: 4rem 0;
      background: var(--bg-light);
    }

    .payment-container {
      max-width: 800px;
      margin: 0 auto;
      background: var(--bg-white);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .payment-header {
      background: var(--gradient);
      color: white;
      padding: 2rem;
      text-align: center;
    }

    .payment-form {
      padding: 3rem;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: var(--text-dark);
    }

    .form-input,
    .form-select {
      width: 100%;
      padding: 1rem;
      border: 2px solid var(--border-color);
      border-radius: var(--border-radius);
      font-size: 1rem;
      transition: var(--transition);
    }

    .form-input:focus,
    .form-select:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .payment-methods {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .payment-method {
      padding: 1rem;
      border: 2px solid var(--border-color);
      border-radius: var(--border-radius);
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .payment-method.active {
      border-color: var(--primary-color);
      background: rgba(102, 126, 234, 0.1);
    }

    .order-summary {
      background: var(--bg-light);
      padding: 2rem;
      border-radius: var(--border-radius);
      margin-bottom: 2rem;
    }

    .summary-line {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
    }

    .summary-total {
      border-top: 2px solid var(--border-color);
      padding-top: 1rem;
      font-weight: 700;
      font-size: 1.2rem;
    }

    /* Enhanced Products Section */
    .products-section {
      padding: 6rem 0;
      background: var(--bg-white);
    }

    .products-filter {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 3rem;
      flex-wrap: wrap;
    }

    .filter-btn {
      padding: 1rem 2rem;
      background: transparent;
      border: 2px solid var(--border-color);
      border-radius: var(--border-radius);
      color: var(--text-dark);
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .filter-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: var(--gradient);
      transition: var(--transition);
      z-index: -1;
    }

    .filter-btn.active::before,
    .filter-btn:hover::before {
      left: 0;
    }

    .filter-btn.active,
    .filter-btn:hover {
      color: white;
      border-color: var(--primary-color);
    }

    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2rem;
    }

    .product-card {
      background: var(--bg-white);
      border-radius: var(--border-radius);
      overflow: hidden;
      box-shadow: var(--shadow);
      transition: var(--transition);
      position: relative;
    }

    .product-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
    }

    .product-image-container {
      position: relative;
      height: 250px;
      overflow: hidden;
    }

    .product-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: var(--transition);
    }

    .product-card:hover .product-image {
      transform: scale(1.1);
    }

    .product-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(102, 126, 234, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: var(--transition);
    }

    .product-card:hover .product-overlay {
      opacity: 1;
    }

    .product-info {
      padding: 2rem;
    }

    .product-badge {
      position: absolute;
      top: 1rem;
      left: 1rem;
      background: var(--accent-color);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      z-index: 2;
    }

    .product-badge.featured {
      background: linear-gradient(45deg, #ff6b6b, #feca57);
      animation: pulse 2s infinite;
    }

    .product-title {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: var(--text-dark);
    }

    .product-description {
      color: var(--text-light);
      margin-bottom: 1rem;
      line-height: 1.6;
    }

    .product-price {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1.5rem;
    }

    .price-current {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary-color);
    }

    .price-original {
      text-decoration: line-through;
      color: var(--text-light);
    }

    .price-save {
      background: #e6fffa;
      color: #00a085;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 500;
    }

    /* Enhanced Features Section */
    .features-section {
      padding: 6rem 0;
      background: var(--bg-light);
      position: relative;
      overflow: hidden;
    }

    .features-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent 49%, rgba(102, 126, 234, 0.05) 50%, transparent 51%);
      animation: slide 10s infinite;
    }

    @keyframes slide {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
      position: relative;
      z-index: 2;
    }

    .feature-card {
      background: var(--bg-white);
      padding: 3rem;
      border-radius: var(--border-radius);
      text-align: center;
      box-shadow: var(--shadow);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--gradient);
      transform: translateY(100%);
      transition: var(--transition);
      z-index: -1;
    }

    .feature-card:hover::before {
      transform: translateY(0);
    }

    .feature-card:hover {
      transform: translateY(-10px);
      color: white;
    }

    .feature-card:hover .feature-title,
    .feature-card:hover .feature-description {
      color: white;
    }

    .feature-icon {
      font-size: 4rem;
      margin-bottom: 2rem;
      display: block;
      transition: var(--transition);
    }

    .feature-card:hover .feature-icon {
      transform: scale(1.2) rotate(360deg);
    }

    .feature-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--text-dark);
      transition: var(--transition);
    }

    .feature-description {
      color: var(--text-light);
      line-height: 1.6;
      transition: var(--transition);
    }

    /* Enhanced Support Section */
    .support-section {
      padding: 6rem 0;
      background: var(--bg-white);
    }

    .support-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4rem;
      align-items: start;
    }

    .support-info {
      background: var(--bg-light);
      padding: 3rem;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
    }

    .support-form {
      background: var(--bg-white);
      padding: 3rem;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      border: 2px solid var(--border-color);
    }

    .form-textarea {
      width: 100%;
      padding: 1rem;
      border: 2px solid var(--border-color);
      border-radius: var(--border-radius);
      font-size: 1rem;
      resize: vertical;
      min-height: 120px;
      transition: var(--transition);
    }

    .form-textarea:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    /* Enhanced Footer */
    .footer {
      background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
      color: white;
      padding: 4rem 0 2rem;
      position: relative;
    }

    .footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: var(--gradient);
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 3rem;
      margin-bottom: 3rem;
    }

    .footer-brand {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .footer-logo {
      width: 40px;
      height: 40px;
      border-radius: 8px;
    }

    .footer-brand-name {
      font-size: 1.5rem;
      font-weight: 700;
      background: var(--gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .footer-description {
      line-height: 1.6;
      opacity: 0.8;
      margin-bottom: 2rem;
    }

    .footer-social {
      display: flex;
      gap: 1rem;
    }

    .social-link {
      width: 50px;
      height: 50px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      transition: var(--transition);
      font-size: 1.2rem;
    }

    .social-link:hover {
      background: var(--primary-color);
      transform: translateY(-3px);
    }

    .footer-heading {
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 1rem;
      color: white;
    }

    .footer-links {
      list-style: none;
    }

    .footer-links li {
      margin-bottom: 0.75rem;
    }

    .footer-links a {
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .footer-links a:hover {
      color: white;
      transform: translateX(5px);
    }

    .footer-bottom {
      border-top: 1px solid rgba(255, 255, 255, 0.2);
      padding-top: 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }

    /* Chatbot Enhancement */
    .chatbot-toggle {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 60px;
      height: 60px;
      background: var(--gradient);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      cursor: pointer;
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
      transition: var(--transition);
      z-index: 1001;
      animation: bounce 2s infinite;
    }

    .chatbot-toggle:hover {
      transform: scale(1.1);
      box-shadow: 0 12px 35px rgba(102, 126, 234, 0.6);
    }

    .chatbot-container {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 380px;
      height: 550px;
      background: var(--bg-white);
      border-radius: var(--border-radius);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
      display: flex;
      flex-direction: column;
      z-index: 1002;
      transform: translateY(100%) scale(0.8);
      opacity: 0;
      transition: var(--transition);
    }

    .chatbot-container.active {
      transform: translateY(0) scale(1);
      opacity: 1;
    }

    .chatbot-header {
      background: var(--gradient);
      color: white;
      padding: 1.5rem;
      border-radius: var(--border-radius) var(--border-radius) 0 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .bot-avatar {
      width: 45px;
      height: 45px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      margin-right: 1rem;
    }

    /* Notification System */
    .notification {
      position: fixed;
      top: 100px;
      right: 20px;
      min-width: 300px;
      padding: 1rem 1.5rem;
      border-radius: var(--border-radius);
      color: white;
      font-weight: 600;
      z-index: 10000;
      transform: translateX(100%);
      opacity: 0;
      animation: slideInNotification 0.3s ease forwards;
    }

    .notification.success {
      background: linear-gradient(135deg, #48bb78, #38a169);
    }

    .notification.error {
      background: linear-gradient(135deg, #f56565, #e53e3e);
    }

    .notification.info {
      background: linear-gradient(135deg, #4299e1, #3182ce);
    }

    @keyframes slideInNotification {
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    /* Modal Enhancements */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: 1003;
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
      backdrop-filter: blur(5px);
    }

    .modal-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .product-modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.8);
      width: 90%;
      max-width: 800px;
      max-height: 80vh;
      background: var(--bg-white);
      border-radius: var(--border-radius);
      box-shadow: 0 25px 80px rgba(0, 0, 0, 0.3);
      z-index: 1004;
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
      overflow: hidden;
    }

    .product-modal.active {
      opacity: 1;
      visibility: visible;
      transform: translate(-50%, -50%) scale(1);
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
      .configurator-container {
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .closet-comparison {
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .support-grid {
        grid-template-columns: 1fr;
        gap: 2rem;
      }
    }

    @media (max-width: 768px) {
      .nav-toggle {
        display: flex;
      }

      .nav-menu {
        position: fixed;
        top: 100%;
        left: 0;
        width: 100%;
        background: var(--bg-white);
        box-shadow: var(--shadow);
        flex-direction: column;
        padding: 2rem;
        transform: translateY(-100%);
        opacity: 0;
        visibility: hidden;
        transition: var(--transition);
      }

      .nav-menu.active {
        transform: translateY(0);
        opacity: 1;
        visibility: visible;
      }

      .hero-stats {
        flex-direction: column;
        gap: 1.5rem;
      }

      .hero-actions {
        flex-direction: column;
        align-items: center;
      }

      .products-grid {
        grid-template-columns: 1fr;
      }

      .features-grid {
        grid-template-columns: 1fr;
      }

      .chatbot-container {
        width: calc(100% - 2rem);
        height: 80vh;
        right: 1rem;
        bottom: 1rem;
      }

      .form-row {
        grid-template-columns: 1fr;
      }

      .payment-methods {
        grid-template-columns: repeat(2, 1fr);
      }

      .space-stats {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- Enhanced Loading Screen -->
  <div id="loading-screen" class="loading-screen">
    <div class="loader">
      <div class="loader-text">FLEXCORE</div>
      <div class="loader-bar"></div>
    </div>
  </div>

  <!-- Enhanced Navigation -->
  <nav id="navbar" class="navbar">
    <div class="nav-container">
      <div class="nav-brand">
        <img src="https://i.imgur.com/vjMQVmY.png" alt="FlexCore Logo" class="nav-logo">
        <span class="nav-title">FlexCore</span>
      </div>
      
      <div class="nav-menu" id="nav-menu">
        <a href="#home" class="nav-link active">Home</a>
        <a href="#products" class="nav-link">Products</a>
        <a href="#configurator" class="nav-link">Design Your Shoe</a>
        <a href="#globe" class="nav-link">Find Us</a>
        <a href="#space" class="nav-link">Space Saver</a>
        <a href="#features" class="nav-link">Features</a>
        <a href="#support" class="nav-link">Support</a>
      </div>
      
      <div class="nav-actions">
        <button class="cart-btn" onclick="toggleCart()">
          üõí <span class="cart-badge" id="cart-count">0</span>
        </button>
        <div class="nav-toggle" id="nav-toggle">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </div>
  </nav>

  <!-- Enhanced Hero Section -->
  <section class="hero" id="home">
    <div class="container">
      <div class="hero-content">
        <div class="hero-badge">
          <span>üöÄ Revolutionary Technology Available Now</span>
        </div>
        
        <h1 class="hero-title">
          The Future of
          <span class="gradient-text">Footwear</span>
        </h1>
        
        <h2 class="hero-subtitle">One Shoe, Infinite Possibilities</h2>
        
        <p class="hero-description">
          Transform your shoes instantly with FlexCore's revolutionary modular system. 
          From running to formal wear, adapt to any situation with just one pair.
        </p>
        
        <div class="hero-stats">
          <div class="stat">
            <span class="stat-number">10+</span>
            <span class="stat-label">Core Styles</span>
          </div>
          <div class="stat">
            <span class="stat-number">50K+</span>
            <span class="stat-label">Happy Users</span>
          </div>
          <div class="stat">
            <span class="stat-number">30s</span>
            <span class="stat-label">Quick Switch</span>
          </div>
        </div>
        
        <div class="hero-actions">
          <button class="btn btn-primary btn-large" onclick="smoothScrollTo('#configurator')">
            üé® Design Your Shoe
          </button>
          <button class="btn btn-secondary btn-large" onclick="smoothScrollTo('#products')">
            Shop Now
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Enhanced Products Section -->
  <section id="products" class="products-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Our Products</h2>
        <p class="section-subtitle">Discover the future of footwear with our innovative modular system</p>
      </div>
      
      <div class="products-filter">
        <button class="filter-btn active" data-filter="all">All Products</button>
        <button class="filter-btn" data-filter="base">Base Shoes</button>
        <button class="filter-btn" data-filter="cores">Cores</button>
        <button class="filter-btn" data-filter="kits">Starter Kits</button>
        <button class="filter-btn" data-filter="accessories">Accessories</button>
      </div>
      
      <div class="products-grid" id="products-grid">
        <div class="product-card" data-category="base">
          <div class="product-badge">Base</div>
          <div class="product-image-container">
            <img src="https://i.imgur.com/GuSEaVq.png" alt="Basic Bare" class="product-image">
            <div class="product-overlay">
              <button class="btn btn-primary" onclick="viewProduct('basic-bare')">Quick View</button>
            </div>
          </div>
          <div class="product-info">
            <h3 class="product-title">Basic Bare</h3>
            <p class="product-description">The foundation of your FlexCore system. Minimalist design with maximum comfort.</p>
            <div class="product-price">
              <span class="price-current">$59.99</span>
              <span class="price-original">$74.99</span>
              <span class="price-save">Save $15!</span>
            </div>
            <button class="btn btn-primary" onclick="addToCart('basic-bare', 'Basic Bare', 59.99, 'https://i.imgur.com/GuSEaVq.png')">
              Add to Cart
            </button>
          </div>
        </div>

        <div class="product-card" data-category="kits">
          <div class="product-badge featured">Best Value</div>
          <div class="product-image-container">
            <img src="https://i.imgur.com/myAyR8N.png" alt="Starter Kit" class="product-image">
            <div class="product-overlay">
              <button class="btn btn-primary" onclick="viewProduct('starter-kit')">Quick View</button>
            </div>
          </div>
          <div class="product-info">
            <h3 class="product-title">Complete Starter Kit</h3>
            <p class="product-description">Perfect for beginners! Basic Bare + any 2 cores of your choice.</p>
            <div class="product-price">
              <span class="price-current">$94.99</span>
              <span class="price-original">$109.97</span>
              <span class="price-save">Save $14.98!</span>
            </div>
            <button class="btn btn-primary" onclick="addToCart('starter-kit', 'Complete Starter Kit', 94.99, 'https://i.imgur.com/myAyR8N.png')">
              Add to Cart
            </button>
          </div>
        </div>

        <div class="product-card" data-category="cores">
          <div class="product-badge">Core</div>
          <div class="product-image-container">
            <img src="https://i.imgur.com/MfhviPW.png" alt="Casual Cores" class="product-image">
            <div class="product-overlay">
              <button class="btn btn-primary" onclick="viewProduct('casual-cores')">Quick View</button>
            </div>
          </div>
          <div class="product-info">
            <h3 class="product-title">Casual Cores</h3>
            <p class="product-description">Versatile cores perfect for everyday wear and social events.</p>
            <div class="product-price">
              <span class="price-current">$19.99</span>
            </div>
            <button class="btn btn-primary" onclick="addToCart('casual-cores', 'Casual Cores', 19.99, 'https://i.imgur.com/MfhviPW.png')">
              Add to Cart
            </button>
          </div>
        </div>

        <div class="product-card" data-category="cores">
          <div class="product-badge">Core</div>
          <div class="product-image-container">
            <img src="http://i.imgur.com/KmfodAU.png" alt="Cleat Cores" class="product-image">
            <div class="product-overlay">
              <button class="btn btn-primary" onclick="viewProduct('cleat-cores')">Quick View</button>
            </div>
          </div>
          <div class="product-info">
            <h3 class="product-title">Professional Cleat Cores</h3>
            <p class="product-description">Soccer cleats recommended by top coaches worldwide.</p>
            <div class="product-price">
              <span class="price-current">$24.99</span>
            </div>
            <button class="btn btn-primary" onclick="addToCart('cleat-cores', 'Professional Cleat Cores', 24.99, 'http://i.imgur.com/KmfodAU.png')">
              Add to Cart
            </button>
          </div>
        </div>

        <div class="product-card" data-category="cores">
          <div class="product-badge">Core</div>
          <div class="product-image-container">
            <img src="https://i.imgur.com/MuvrLOV.png" alt="Roller Cores" class="product-image">
            <div class="product-overlay">
              <button class="btn btn-primary" onclick="viewProduct('roller-cores')">Quick View</button>
            </div>
          </div>
          <div class="product-info">
            <h3 class="product-title">Roller Cores</h3>
            <p class="product-description">Smooth rolling action for urban exploration and fun.</p>
            <div class="product-price">
              <span class="price-current">$29.99</span>
            </div>
            <button class="btn btn-primary" onclick="addToCart('roller-cores', 'Roller Cores', 29.99, 'https://i.imgur.com/MuvrLOV.png')">
              Add to Cart
            </button>
          </div>
        </div>

        <div class="product-card" data-category="cores">
          <div class="product-badge">Core</div>
          <div class="product-image-container">
            <img src="https://i.imgur.com/kyuImHk.png" alt="Running Cores" class="product-image">
            <div class="product-overlay">
              <button class="btn btn-primary" onclick="viewProduct('running-cores')">Quick View</button>
            </div>
          </div>
          <div class="product-info">
            <h3 class="product-title">Performance Running Cores</h3>
            <p class="product-description">Lightweight, responsive cushioning for serious runners.</p>
            <div class="product-price">
              <span class="price-current">$24.99</span>
            </div>
            <button class="btn btn-primary" onclick="addToCart('running-cores', 'Performance Running Cores', 24.99, 'https://i.imgur.com/kyuImHk.png')">
              Add to Cart
            </button>
          </div>
        </div>

        <div class="product-card" data-category="accessories">
          <div class="product-badge">New</div>
          <div class="product-image-container">
            <img src="https://via.placeholder.com/300x250/667eea/ffffff?text=Core+Case" alt="Core Case" class="product-image">
            <div class="product-overlay">
              <button class="btn btn-primary" onclick="viewProduct('core-case')">Quick View</button>
            </div>
          </div>
          <div class="product-info">
            <h3 class="product-title">Premium Core Case</h3>
            <p class="product-description">Organize and protect your cores with this premium carrying case.</p>
            <div class="product-price">
              <span class="price-current">$39.99</span>
            </div>
            <button class="btn btn-primary" onclick="addToCart('core-case', 'Premium Core Case', 39.99, 'https://via.placeholder.com/300x250/667eea/ffffff?text=Core+Case')">
              Add to Cart
            </button>
          </div>
        </div>

        <div class="product-card" data-category="accessories">
          <div class="product-badge">Accessory</div>
          <div class="product-image-container">
            <img src="https://via.placeholder.com/300x250/f093fb/ffffff?text=Cleaning+Kit" alt="Cleaning Kit" class="product-image">
            <div class="product-overlay">
              <button class="btn btn-primary" onclick="viewProduct('cleaning-kit')">Quick View</button>
            </div>
          </div>
          <div class="product-info">
            <h3 class="product-title">FlexCore Cleaning Kit</h3>
            <p class="product-description">Keep your FlexCore system in perfect condition with our cleaning kit.</p>
            <div class="product-price">
              <span class="price-current">$14.99</span>
            </div>
            <button class="btn btn-primary" onclick="addToCart('cleaning-kit', 'FlexCore Cleaning Kit', 14.99, 'https://via.placeholder.com/300x250/f093fb/ffffff?text=Cleaning+Kit')">
              Add to Cart
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Enhanced Features Section -->
  <section class="features-section" id="features">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Why Choose FlexCore?</h2>
        <p class="section-subtitle">Discover the revolutionary features that make FlexCore the ultimate footwear solution</p>
      </div>
      
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">‚ö°</div>
          <h3 class="feature-title">Instant Transform</h3>
          <p class="feature-description">Switch between different shoe styles in under 30 seconds. From running shoes to formal wear instantly.</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üí∞</div>
          <h3 class="feature-title">Cost-Effective</h3>
          <p class="feature-description">Save hundreds of dollars by replacing multiple shoes with one adaptable system.</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üè†</div>
          <h3 class="feature-title">Space-Saving</h3>
          <p class="feature-description">Reduce your shoe collection by 80%. One base shoe plus compact cores replaces your entire closet.</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üå±</div>
          <h3 class="feature-title">Eco-Friendly</h3>
          <p class="feature-description">Reduce waste and carbon footprint with our sustainable materials and production methods.</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">‚òÅÔ∏è</div>
          <h3 class="feature-title">Premium Comfort</h3>
          <p class="feature-description">Advanced cushioning and ergonomic design for all-day comfort in any situation.</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üîß</div>
          <h3 class="feature-title">Universal Compatibility</h3>
          <p class="feature-description">All cores work with any FlexCore base shoe. Mix and match for endless possibilities.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Enhanced Support Section -->
  <section id="support" class="support-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">Get Support</h2>
        <p class="section-subtitle">We're here to help you every step of the way</p>
      </div>
      
      <div class="support-grid">
        <div class="support-info">
          <h3>Need Help? ü§ù</h3>
          <p>Our support team is available 24/7 to answer your questions and help you get the most out of your FlexCore shoes.</p>
          
          <div style="margin: 2rem 0;">
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
              <div style="width: 50px; height: 50px; background: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">‚ö°</div>
              <div>
                <h4>Fast Response</h4>
                <p>Average response time under 2 hours</p>
              </div>
            </div>
            <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
              <div style="width: 50px; height: 50px; background: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">üéØ</div>
              <div>
                <h4>Expert Help</h4>
                <p>Trained specialists for technical questions</p>
              </div>
            </div>
            <div style="display: flex; align-items: center; gap: 1rem;">
              <div style="width: 50px; height: 50px; background: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">üí¨</div>
              <div>
                <h4>Multiple Channels</h4>
                <p>Email, chat, phone, and social media</p>
              </div>
            </div>
          </div>
        </div>
        
        <form class="support-form" onsubmit="handleSupportForm(event)">
          <div class="form-group">
            <label class="form-label">Full Name</label>
            <input type="text" class="form-input" required placeholder="Enter your full name">
          </div>
          
          <div class="form-group">
            <label class="form-label">Email Address</label>
            <input type="email" class="form-input" required placeholder="your@email.com">
          </div>
          
          <div class="form-group">
            <label class="form-label">Subject</label>
            <select class="form-select" required>
              <option value="">Choose a topic</option>
              <option value="product-inquiry">Product Inquiry</option>
              <option value="order-status">Order Status</option>
              <option value="technical-support">Technical Support</option>
              <option value="returns">Returns & Exchanges</option>
              <option value="warranty">Warranty Claim</option>
              <option value="feedback">General Feedback</option>
            </select>
          </div>
          
          <div class="form-group">
            <label class="form-label">Message</label>
            <textarea class="form-textarea" rows="5" required placeholder="How can we help you today?"></textarea>
          </div>
          
          <button type="submit" class="btn btn-primary btn-large" style="width: 100%;">
            Send Message üìß
          </button>
        </form>
      </div>
    </div>
  </section>

  <!-- Payment Portal Section -->
  <section id="payment" class="payment-section" style="display: none;">
    <div class="container">
      <div class="payment-container">
        <div class="payment-header">
          <h2>üí≥ Secure Checkout</h2>
          <p>Complete your FlexCore purchase</p>
        </div>
        
        <div class="payment-form">
          <div class="order-summary">
            <h3>Order Summary</h3>
            <div id="checkout-items"></div>
            <div class="summary-line">
              <span>Subtotal:</span>
              <span id="checkout-subtotal">$0.00</span>
            </div>
            <div class="summary-line">
              <span>Shipping:</span>
              <span>FREE</span>
            </div>
            <div class="summary-line">
              <span>Tax:</span>
              <span id="checkout-tax">$0.00</span>
            </div>
            <div class="summary-line summary-total">
              <span>Total:</span>
              <span id="checkout-total">$0.00</span>
            </div>
          </div>
          
          <form onsubmit="processPayment(event)">
            <h3>Payment Method</h3>
            <div class="payment-methods">
              <div class="payment-method active" onclick="selectPaymentMethod('visa')">
                <div>üí≥</div>
                <div>Visa</div>
              </div>
              <div class="payment-method" onclick="selectPaymentMethod('mastercard')">
                <div>üí≥</div>
                <div>Mastercard</div>
              </div>
              <div class="payment-method" onclick="selectPaymentMethod('paypal')">
                <div>üí∞</div>
                <div>PayPal</div>
              </div>
              <div class="payment-method" onclick="selectPaymentMethod('apple')">
                <div>üì±</div>
                <div>Apple Pay</div>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">First Name</label>
                <input type="text" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">Last Name</label>
                <input type="text" class="form-input" required>
              </div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Email Address</label>
              <input type="email" class="form-input" required>
            </div>
            
            <div class="form-group">
              <label class="form-label">Card Number</label>
              <input type="text" class="form-input" placeholder="1234 5678 9012 3456" required>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">Expiry Date</label>
                <input type="text" class="form-input" placeholder="MM/YY" required>
              </div>
              <div class="form-group">
                <label class="form-label">CVC</label>
                <input type="text" class="form-input" placeholder="123" required>
              </div>
            </div>
            
            <div class="form-group">
              <label class="form-label">Billing Address</label>
              <input type="text" class="form-input" placeholder="123 Main St" required>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">City</label>
                <input type="text" class="form-input" required>
              </div>
              <div class="form-group">
                <label class="form-label">ZIP Code</label>
                <input type="text" class="form-input" required>
              </div>
            </div>
            
            <button type="submit" class="btn btn-primary btn-large" style="width: 100%;">
              Complete Purchase üõí
            </button>
            
            <p style="text-align: center; margin-top: 1rem; color: var(--text-light); font-size: 0.9rem;">
              üîí Your payment information is secure and encrypted
            </p>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Enhanced Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <div class="footer-brand">
            <img src="https://i.imgur.com/vjMQVmY.png" alt="FlexCore Logo" class="footer-logo">
            <h3 class="footer-brand-name">FlexCore</h3>
          </div>
          <p class="footer-description">
            Revolutionary modular footwear system that transforms every step. 
            Join the future of shoes today.
          </p>
          <div class="footer-social">
            <a href="#" class="social-link">üìò</a>
            <a href="#" class="social-link">üê¶</a>
            <a href="#" class="social-link">üì∑</a>
            <a href="#" class="social-link">üì∫</a>
          </div>
        </div>
        
        <div class="footer-section">
          <h4 class="footer-heading">Products</h4>
          <ul class="footer-links">
            <li><a href="#products">üõçÔ∏è All Products</a></li>
            <li><a href="#" onclick="filterProducts('base')">üëü Base Shoes</a></li>
            <li><a href="#" onclick="filterProducts('cores')">‚ö° Cores Collection</a></li>
            <li><a href="#" onclick="filterProducts('kits')">üì¶ Starter Kits</a></li>
            <li><a href="#" onclick="filterProducts('accessories')">üéí Accessories</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h4 class="footer-heading">Support</h4>
          <ul class="footer-links">
            <li><a href="#support">‚ùì Help Center</a></li>
            <li><a href="#" onclick="toggleChatbot()">üí¨ Live Chat</a></li>
            <li><a href="#" onclick="showComingSoon()">üîÑ Returns & Exchanges</a></li>
            <li><a href="#" onclick="showComingSoon()">üõ°Ô∏è Warranty</a></li>
            <li><a href="#support">üìß Contact Us</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h4 class="footer-heading">Company</h4>
          <ul class="footer-links">
            <li><a href="#" onclick="showComingSoon()">üè¢ About FlexCore</a></li>
            <li><a href="#" onclick="showComingSoon()">üå± Sustainability</a></li>
            <li><a href="#" onclick="showComingSoon()">üíº Careers</a></li>
            <li><a href="#" onclick="showComingSoon()">üì∞ Press Kit</a></li>
            <li><a href="#" onclick="showComingSoon()">üìù Blog</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h4 class="footer-heading">Newsletter</h4>
          <p>Stay updated with the latest FlexCore news and exclusive offers.</p>
          <form onsubmit="handleNewsletterSignup(event)" style="margin-top: 1rem;">
            <div style="display: flex; gap: 0.5rem;">
              <input type="email" placeholder="your@email.com" required style="flex: 1; padding: 0.75rem; border: none; border-radius: 8px; background: rgba(255,255,255,0.1); color: white;">
              <button type="submit" class="btn btn-primary">Subscribe</button>
            </div>
          </form>
        </div>
      </div>
      
      <div class="footer-bottom">
        <div>
          <p>&copy; 2024 FlexCore. All rights reserved.</p>
        </div>
        <div>
          <a href="#" onclick="showComingSoon()">Privacy Policy</a>
          <span style="margin: 0 1rem;">‚Ä¢</span>
          <a href="#" onclick="showComingSoon()">Terms of Service</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Enhanced Chatbot -->
  <div class="chatbot-toggle" id="chatbot-toggle" onclick="toggleChatbot()">
    üí¨
  </div>
  
  <div class="chatbot-container" id="chatbot-container">
    <div class="chatbot-header">
      <div style="display: flex; align-items: center;">
        <div class="bot-avatar">ü§ñ</div>
        <div>
          <div style="font-weight: 700;">FlexBot</div>
          <div style="font-size: 0.8rem; opacity: 0.8;">Online ‚Ä¢ Ready to help!</div>
        </div>
      </div>
      <button onclick="toggleChatbot()" style="background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer;">‚úï</button>
    </div>
    
    <div class="chatbot-messages" id="chatbot-messages">
      <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem;">
        <div style="width: 35px; height: 35px; background: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white;">ü§ñ</div>
        <div style="background: var(--bg-light); padding: 1rem; border-radius: 15px; max-width: 80%;">
          <p>Hi there! Welcome to FlexCore! üëã</p>
          <p>I'm here to help you with any questions about our modular footwear system. How can I assist you today?</p>
        </div>
      </div>
    </div>
    
    <div style="padding: 1rem; display: flex; flex-wrap: wrap; gap: 0.5rem; border-top: 1px solid var(--border-color);">
      <button onclick="sendQuickReply('How does FlexCore work?')" style="background: var(--bg-light); border: 1px solid var(--border-color); border-radius: 15px; padding: 0.5rem 1rem; font-size: 0.8rem; cursor: pointer;">How it works</button>
      <button onclick="sendQuickReply('What are shipping options?')" style="background: var(--bg-light); border: 1px solid var(--border-color); border-radius: 15px; padding: 0.5rem 1rem; font-size: 0.8rem; cursor: pointer;">Shipping</button>
      <button onclick="sendQuickReply('Can I return my order?')" style="background: var(--bg-light); border: 1px solid var(--border-color); border-radius: 15px; padding: 0.5rem 1rem; font-size: 0.8rem; cursor: pointer;">Returns</button>
    </div>
    
    <form onsubmit="sendChatMessage(event)" style="padding: 1rem; border-top: 1px solid var(--border-color); display: flex; gap: 0.5rem;">
      <input type="text" id="chat-input" placeholder="Type your message..." style="flex: 1; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: 20px; outline: none;">
      <button type="submit" style="width: 40px; height: 40px; background: var(--primary-color); color: white; border: none; border-radius: 50%; cursor: pointer;">‚û§</button>
    </form>
  </div>

  <!-- Cart Sidebar (Enhanced) -->
  <div id="cart-sidebar" style="position: fixed; top: 0; right: -400px; width: 400px; height: 100vh; background: var(--bg-white); box-shadow: -5px 0 20px rgba(0,0,0,0.1); z-index: 1003; transition: var(--transition); display: flex; flex-direction: column;">
    <div style="padding: 2rem; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; justify-content: space-between;">
      <h3>üõí Shopping Cart</h3>
      <button onclick="toggleCart()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer;">‚úï</button>
    </div>
    
    <div id="cart-items" style="flex: 1; padding: 1rem; overflow-y: auto;">
      <div style="text-align: center; padding: 3rem 1rem;">
        <div style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;">üõí</div>
        <p style="color: var(--text-light); margin-bottom: 2rem;">Your cart is empty</p>
        <button class="btn btn-primary" onclick="toggleCart(); smoothScrollTo('#products');">Start Shopping</button>
      </div>
    </div>
    
    <div id="cart-footer" style="padding: 2rem; border-top: 1px solid var(--border-color); display: none;">
      <div style="margin-bottom: 2rem;">
        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
          <span>Subtotal:</span>
          <span id="cart-subtotal">$0.00</span>
        </div>
        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
          <span>Shipping:</span>
          <span>FREE</span>
        </div>
        <div style="display: flex; justify-content: space-between; font-weight: 700; font-size: 1.2rem; padding-top: 1rem; border-top: 1px solid var(--border-color);">
          <span>Total:</span>
          <span id="cart-total">$0.00</span>
        </div>
      </div>
      <button class="btn btn-primary btn-large" style="width: 100%;" onclick="proceedToCheckout()">Proceed to Checkout</button>
    </div>
  </div>

  <!-- Cart Overlay -->
  <div id="cart-overlay" onclick="toggleCart()" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1002; opacity: 0; visibility: hidden; transition: var(--transition);"></div>

  <!-- Product Modal -->
  <div class="product-modal" id="product-modal">
    <div style="padding: 2rem; max-height: 80vh; overflow-y: auto;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h3 id="modal-title">Product Details</h3>
        <button onclick="closeProductModal()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer;">‚úï</button>
      </div>
      <div id="modal-body">
        <!-- Product details will be loaded here -->
      </div>
    </div>
  </div>

  <!-- Modal Overlay -->
  <div class="modal-overlay" id="modal-overlay" onclick="closeProductModal()"></div>

  <script>
    // Global Variables
    let cart = [];
    let currentConfiguration = {
      color: 'black',
      size: '9',
      core: 'casual',
      price: 89.99
    };
    let currentShoeCount = 8;
    let currentCoreCount = 8;
    let currentRoom = 'small';
    let globe, globeRenderer, globeScene, globeCamera;
    let isGlobeInitialized = false;

    // Initialize everything when page loads
    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(() => {
        document.getElementById('loading-screen').classList.add('hidden');
        initializeEverything();
      }, 2000);
    });

    function initializeEverything() {
      setupNavigation();
      setupScrollEffects();
      setupProductFilters();
      initializeGlobe();
      updateSpaceOrganizer();
      startAnimations();
    }

    // Enhanced Navigation
    function setupNavigation() {
      const navToggle = document.getElementById('nav-toggle');
      const navMenu = document.getElementById('nav-menu');
      
      navToggle.addEventListener('click', () => {
        navMenu.classList.toggle('active');
      });

      // Handle nav link clicks with smooth scrolling
      document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', (e) => {
          const href = link.getAttribute('href');
          if (href && href.startsWith('#')) {
            e.preventDefault();
            smoothScrollTo(href);
            
            // Update active link
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            link.classList.add('active');
            
            // Close mobile menu
            navMenu.classList.remove('active');
          }
        });
      });

      // Close menu when clicking outside
      document.addEventListener('click', (e) => {
        if (!navToggle.contains(e.target) && !navMenu.contains(e.target)) {
          navMenu.classList.remove('active');
        }
      });
    }

    function smoothScrollTo(target) {
      const element = document.querySelector(target);
      if (element) {
        const offsetTop = element.offsetTop - 80; // Account for fixed navbar
        window.scrollTo({
          top: offsetTop,
          behavior: 'smooth'
        });
      }
    }

    // Enhanced Scroll Effects
    function setupScrollEffects() {
      const navbar = document.getElementById('navbar');
      
      window.addEventListener('scroll', () => {
        const scrollY = window.scrollY;
        
        // Navbar effect
        if (scrollY > 100) {
          navbar.style.background = 'rgba(255, 255, 255, 0.98)';
          navbar.style.backdropFilter = 'blur(20px)';
        } else {
          navbar.style.background = 'rgba(255, 255, 255, 0.95)';
          navbar.style.backdropFilter = 'blur(10px)';
        }

        // Update active nav link based on scroll position
        updateActiveNavLink();
        
        // Parallax effects
        const heroContent = document.querySelector('.hero-content');
        if (heroContent) {
          heroContent.style.transform = `translateY(${scrollY * 0.5}px)`;
        }
      });
    }

    function updateActiveNavLink() {
      const sections = ['home', 'products', 'configurator', 'globe', 'space', 'features', 'support'];
      let current = '';

      sections.forEach(section => {
        const element = document.getElementById(section);
        if (element) {
          const rect = element.getBoundingClientRect();
          if (rect.top <= 150 && rect.bottom >= 150) {
            current = section;
          }
        }
      });

      if (current) {
        document.querySelectorAll('.nav-link').forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === `#${current}`) {
            link.classList.add('active');
          }
        });
      }
    }

    // 3D Globe Implementation
    function initializeGlobe() {
      if (isGlobeInitialized) return;
      
      const canvas = document.getElementById('globe-canvas');
      if (!canvas) return;

      // Create scene, camera, and renderer
      globeScene = new THREE.Scene();
      globeCamera = new THREE.PerspectiveCamera(75, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
      globeRenderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });
      globeRenderer.setSize(canvas.clientWidth, canvas.clientHeight);
      globeRenderer.setClearColor(0x000011, 1);

      // Create Earth
      const earthGeometry = new THREE.SphereGeometry(2, 32, 32);
      const earthTexture = new THREE.TextureLoader().load('https://threejs.org/examples/textures/planets/earth_atmos_2048.jpg');
      const earthMaterial = new THREE.MeshPhongMaterial({ map: earthTexture });
      const earth = new THREE.Mesh(earthGeometry, earthMaterial);
      globeScene.add(earth);

      // Add atmosphere
      const atmosphereGeometry = new THREE.SphereGeometry(2.1, 32, 32);
      const atmosphereMaterial = new THREE.MeshPhongMaterial({
        color: 0x4444ff,
        transparent: true,
        opacity: 0.1
      });
      const atmosphere = new THREE.Mesh(atmosphereGeometry, atmosphereMaterial);
      globeScene.add(atmosphere);

      // Add lights
      const ambientLight = new THREE.AmbientLight(0x404040, 0.4);
      globeScene.add(ambientLight);
      
      const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
      directionalLight.position.set(5, 3, 5);
      globeScene.add(directionalLight);

      // Add store markers
      const storeLocations = [
        { lat: 40.7128, lon: -74.0060, name: 'New York' },
        { lat: 34.0522, lon: -118.2437, name: 'Los Angeles' },
        { lat: 51.5074, lon: -0.1278, name: 'London' },
        { lat: 35.6762, lon: 139.6503, name: 'Tokyo' },
        { lat: 52.5200, lon: 13.4050, name: 'Berlin' }
      ];

      storeLocations.forEach(location => {
        const markerGeometry = new THREE.SphereGeometry(0.02, 8, 8);
        const markerMaterial = new THREE.MeshPhongMaterial({ 
          color: 0xff4444,
          emissive: 0xff2222,
          emissiveIntensity: 0.2
        });
        const marker = new THREE.Mesh(markerGeometry, markerMaterial);
        
        // Convert lat/lon to 3D coordinates
        const phi = (90 - location.lat) * (Math.PI / 180);
        const theta = (location.lon + 180) * (Math.PI / 180);
        
        marker.position.x = -2.02 * Math.sin(phi) * Math.cos(theta);
        marker.position.z = 2.02 * Math.sin(phi) * Math.sin(theta);
        marker.position.y = 2.02 * Math.cos(phi);
        
        globeScene.add(marker);
      });

      globeCamera.position.z = 5;

      // Mouse controls
      let isDragging = false;
      let previousMousePosition = { x: 0, y: 0 };

      canvas.addEventListener('mousedown', (e) => {
        isDragging = true;
        previousMousePosition = { x: e.clientX, y: e.clientY };
      });

      canvas.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        
        const deltaMove = {
          x: e.clientX - previousMousePosition.x,
          y: e.clientY - previousMousePosition.y
        };

        earth.rotation.y += deltaMove.x * 0.01;
        earth.rotation.x += deltaMove.y * 0.01;
        atmosphere.rotation.y += deltaMove.x * 0.01;
        atmosphere.rotation.x += deltaMove.y * 0.01;

        previousMousePosition = { x: e.clientX, y: e.clientY };
      });

      canvas.addEventListener('mouseup', () => {
        isDragging = false;
      });

      // Animation loop
      function animateGlobe() {
        requestAnimationFrame(animateGlobe);
        
        if (!isDragging) {
          earth.rotation.y += 0.005;
          atmosphere.rotation.y += 0.005;
        }
        
        globeRenderer.render(globeScene, globeCamera);
      }
      
      animateGlobe();
      isGlobeInitialized = true;
    }

    function focusLocation(country) {
      showNotification(`üåç Focusing on ${country.toUpperCase()} stores. Interactive map features coming soon!`, 'info');
      
      // Add visual feedback
      document.querySelectorAll('.location-card').forEach(card => {
        card.style.transform = 'scale(1)';
      });
      
      event.target.closest('.location-card').style.transform = 'scale(1.05)';
      setTimeout(() => {
        event.target.closest('.location-card').style.transform = 'scale(1)';
      }, 1000);
    }

    // Product Filter System
    function setupProductFilters() {
      const filterBtns = document.querySelectorAll('.filter-btn');
      
      filterBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          const filter = btn.getAttribute('data-filter');
          
          // Update active filter button
          filterBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          
          // Filter products with animation
          filterProducts(filter);
        });
      });
    }

    function filterProducts(filter) {
      const productCards = document.querySelectorAll('.product-card');
      
      productCards.forEach((card, index) => {
        const category = card.getAttribute('data-category');
        
        if (filter === 'all' || category === filter) {
          setTimeout(() => {
            card.style.display = 'block';
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
              card.style.opacity = '1';
              card.style.transform = 'translateY(0)';
            }, 50);
          }, index * 100);
        } else {
          card.style.opacity = '0';
          card.style.transform = 'translateY(-20px)';
          setTimeout(() => {
            card.style.display = 'none';
          }, 300);
        }
      });
    }

    // Shoe Configurator Functions
    function changeColor(color) {
      currentConfiguration.color = color;
      updateShoePreview();
      updatePrice();
      
      // Update active color
      document.querySelectorAll('.color-option').forEach(option => {
        option.classList.remove('active');
      });
      document.querySelector(`[data-color="${color}"]`).classList.add('active');
    }

    function changeSize(size) {
      currentConfiguration.size = size;
      updatePrice();
      
      // Update active size
      document.querySelectorAll('.size-option').forEach(option => {
        option.classList.remove('active');
      });
      document.querySelector(`[data-size="${size}"]`).classList.add('active');
    }

    function selectCore(coreType) {
      currentConfiguration.core = coreType;
      updateShoePreview();
      updatePrice();
      
      // Update active core
      document.querySelectorAll('.core-option').forEach(option => {
        option.classList.remove('active');
      });
      document.querySelector(`[data-core="${coreType}"]`).classList.add('active');
    }

    function updateShoePreview() {
      const shoeModel = document.getElementById('shoe-model');
      
      // Color filter effect
      const colorFilters = {
        black: 'none',
        white: 'brightness(1.3) contrast(1.1)',
        blue: 'sepia(1) hue-rotate(200deg) saturate(2)',
        pink: 'sepia(1) hue-rotate(300deg) saturate(2)',
        green: 'sepia(1) hue-rotate(120deg) saturate(2)',
        orange: 'sepia(1) hue-rotate(30deg) saturate(2)',
        red: 'sepia(1) hue-rotate(0deg) saturate(2)',
        purple: 'sepia(1) hue-rotate(270deg) saturate(2)'
      };
      
      shoeModel.style.filter = colorFilters[currentConfiguration.color] || 'none';
      
      // Add animation
      shoeModel.style.transform = 'scale(0.9)';
      setTimeout(() => {
        shoeModel.style.transform = 'scale(1)';
      }, 200);
    }

    function updatePrice() {
      const basePrices = {
        casual: 19.99,
        running: 24.99,
        formal: 29.99,
        sport: 27.99
      };
      
      const basePrice = 59.99; // Base shoe price
      const corePrice = basePrices[currentConfiguration.core] || 19.99;
      const totalPrice = basePrice + corePrice;
      
      currentConfiguration.price = totalPrice;
      document.getElementById('price-display').textContent = `${totalPrice.toFixed(2)}`;
    }

    function addCustomShoeToCart() {
      const customShoe = {
        id: `custom-${Date.now()}`,
        name: `Custom FlexCore - ${currentConfiguration.core} (${currentConfiguration.color})`,
        price: currentConfiguration.price,
        image: 'https://i.imgur.com/GuSEaVq.png',
        quantity: 1,
        configuration: { ...currentConfiguration }
      };
      
      cart.push(customShoe);
      updateCartUI();
      showNotification(`Custom shoe added to cart! üé®`, 'success');
    }

    // Space Organizer Functions
    function selectRoom(roomType) {
      currentRoom = roomType;
      
      // Update active room button
      document.querySelectorAll('.room-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      updateSpaceOrganizer();
    }

    function updateSpaceOrganizer() {
      const roomSpecs = {
        small: { multiplier: 1, maxShoes: 12 },
        medium: { multiplier: 1.5, maxShoes: 20 },
        large: { multiplier: 2, maxShoes: 30 }
      };
      
      const spec = roomSpecs[currentRoom];
      const shoeIcons = ['üëü', 'üë†', 'ü•ø', 'üë¢', 'ü¶∂', 'ü©¥', 'ü•æ', 'üë°'];
      const coreTypes = ['Casual', 'Run', 'Sport', 'Formal', 'Boot', 'Summer'];
      
      // Update traditional shoe rack
      const traditionalRack = document.getElementById('traditional-rack');
      if (traditionalRack) {
        traditionalRack.innerHTML = '';
        
        for (let i = 0; i < currentShoeCount; i++) {
          const slot = document.createElement('div');
          slot.className = 'shoe-slot filled';
          slot.innerHTML = shoeIcons[i % shoeIcons.length];
          slot.onclick = () => removeShoe(i);
          traditionalRack.appendChild(slot);
        }
      }
      
      // Update core organizer
      const coreOrganizer = document.getElementById('core-organizer');
      if (coreOrganizer) {
        coreOrganizer.innerHTML = '';
        
        for (let i = 0; i < currentCoreCount; i++) {
          const core = document.createElement('div');
          core.className = 'core-slot';
          core.textContent = coreTypes[i % coreTypes.length];
          core.onclick = () => showCoreDetails(coreTypes[i % coreTypes.length]);
          coreOrganizer.appendChild(core);
        }
      }
      
      // Update stats
      const tradSpace = currentShoeCount * 3 * spec.multiplier;
      const flexSpace = 3 * spec.multiplier;
      const spaceSaved = Math.round(((tradSpace - flexSpace) / tradSpace) * 100);
      const costSavings = Math.round((currentShoeCount - 1) * 45); // Average shoe price
      
      updateElement('trad-pairs', currentShoeCount);
      updateElement('trad-space', Math.round(tradSpace));
      updateElement('core-count', currentCoreCount);
      updateElement('flex-space', Math.round(flexSpace));
      updateElement('space-saved', `${spaceSaved}%`);
      updateElement('storage-efficiency', `${Math.round(tradSpace / flexSpace)}x`);
      updateElement('cost-savings', `${costSavings}`);
    }

    function updateElement(id, value) {
      const element = document.getElementById(id);
      if (element) element.textContent = value;
    }

    function addShoes() {
      const maxShoes = { small: 12, medium: 20, large: 30 }[currentRoom];
      if (currentShoeCount < maxShoes) {
        currentShoeCount++;
        currentCoreCount = Math.min(currentCoreCount + 1, 10);
        updateSpaceOrganizer();
        showNotification('Added another pair! üëü', 'success');
      } else {
        showNotification(`Maximum ${maxShoes} shoes for ${currentRoom} space! üè†`, 'error');
      }
    }

    function removeShoes() {
      if (currentShoeCount > 3) {
        currentShoeCount--;
        currentCoreCount = Math.max(currentCoreCount - 1, 3);
        updateSpaceOrganizer();
        showNotification('Removed a pair! üëü', 'info');
      }
    }

    function removeShoe(index) {
      if (currentShoeCount > 3) {
        currentShoeCount--;
        currentCoreCount = Math.max(currentCoreCount - 1, 3);
        updateSpaceOrganizer();
      }
    }

    function resetCloset() {
      currentShoeCount = 8;
      currentCoreCount = 8;
      updateSpaceOrganizer();
      showNotification('Closet reset! üîÑ', 'info');
    }

    function showShoeDetails() {
      showNotification('üí° FlexCore Base Shoe: Universal fit system, premium comfort, compatible with all cores!', 'info');
    }

    function showCoreDetails(coreType) {
      const details = {
        'Casual': 'Perfect for everyday wear and social activities',
        'Run': 'Lightweight design for running and cardio',
        'Sport': 'Professional-grade for competitive sports',
        'Formal': 'Elegant style for business events',
        'Boot': 'Weather-resistant for outdoors',
        'Summer': 'Breathable for hot weather'
      };
      
      showNotification(`üîß ${coreType} Core: ${details[coreType] || 'Specialized core'} - Attaches in seconds!`, 'info');
    }

    // Enhanced Cart Functions
    function addToCart(id, name, price, image) {
      const existingItem = cart.find(item => item.id === id);
      
      if (existingItem) {
        existingItem.quantity += 1;
      } else {
        cart.push({
          id: id,
          name: name,
          price: price,
          image: image,
          quantity: 1
        });
      }
      
      updateCartUI();
      showNotification(`${name} added to cart! üõí`, 'success');
    }

    function removeFromCart(id) {
      cart = cart.filter(item => item.id !== id);
      updateCartUI();
      showNotification('Item removed from cart! üóëÔ∏è', 'info');
    }

    function updateQuantity(id, change) {
      const item = cart.find(item => item.id === id);
      if (item) {
        item.quantity += change;
        if (item.quantity <= 0) {
          removeFromCart(id);
        } else {
          updateCartUI();
        }
      }
    }

    function updateCartUI() {
      const cartItems = document.getElementById('cart-items');
      const cartCount = document.getElementById('cart-count');
      const cartSubtotal = document.getElementById('cart-subtotal');
      const cartTotal = document.getElementById('cart-total');
      const cartFooter = document.getElementById('cart-footer');
      
      // Update cart count
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      cartCount.textContent = totalItems;
      
      if (cart.length === 0) {
        cartItems.innerHTML = `
          <div style="text-align: center; padding: 3rem 1rem;">
            <div style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;">üõí</div>
            <p style="color: var(--text-light); margin-bottom: 2rem;">Your cart is empty</p>
            <button class="btn btn-primary" onclick="toggleCart(); smoothScrollTo('#products');">Start Shopping</button>
          </div>
        `;
        cartFooter.style.display = 'none';
      } else {
        cartItems.innerHTML = cart.map(item => `
          <div style="display: flex; gap: 1rem; padding: 1rem; border-bottom: 1px solid var(--border-color);">
            <img src="${item.image}" alt="${item.name}" style="width: 80px; height: 80px; border-radius: 8px; object-fit: cover;">
            <div style="flex: 1;">
              <div style="font-weight: 600; margin-bottom: 0.5rem;">${item.name}</div>
              <div style="color: var(--primary-color); font-weight: 600; margin-bottom: 0.5rem;">${item.price.toFixed(2)}</div>
              <div style="display: flex; align-items: center; gap: 1rem;">
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                  <button onclick="updateQuantity('${item.id}', -1)" style="width: 30px; height: 30px; background: var(--bg-light); border: 1px solid var(--border-color); border-radius: 4px; cursor: pointer;">-</button>
                  <span style="font-weight: 600; min-width: 20px; text-align: center;">${item.quantity}</span>
                  <button onclick="updateQuantity('${item.id}', 1)" style="width: 30px; height: 30px; background: var(--bg-light); border: 1px solid var(--border-color); border-radius: 4px; cursor: pointer;">+</button>
                </div>
                <button onclick="removeFromCart('${item.id}')" style="background: none; border: none; color: #e53e3e; cursor: pointer; padding: 0.5rem;">üóëÔ∏è</button>
              </div>
            </div>
          </div>
        `).join('');
        
        const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        cartSubtotal.textContent = `${subtotal.toFixed(2)}`;
        cartTotal.textContent = `${subtotal.toFixed(2)}`;
        cartFooter.style.display = 'block';
      }
    }

    function toggleCart() {
      const cartSidebar = document.getElementById('cart-sidebar');
      const cartOverlay = document.getElementById('cart-overlay');
      
      if (cartSidebar.style.right === '0px') {
        cartSidebar.style.right = '-400px';
        cartOverlay.style.opacity = '0';
        cartOverlay.style.visibility = 'hidden';
        document.body.style.overflow = '';
      } else {
        cartSidebar.style.right = '0px';
        cartOverlay.style.opacity = '1';
        cartOverlay.style.visibility = 'visible';
        document.body.style.overflow = 'hidden';
      }
    }

    function proceedToCheckout() {
      if (cart.length === 0) {
        showNotification('Your cart is empty! Add some items first. üõí', 'error');
        return;
      }
      
      // Show payment section
      const paymentSection = document.getElementById('payment');
      if (paymentSection) {
        paymentSection.style.display = 'block';
        smoothScrollTo('#payment');
        toggleCart(); // Close cart
        populateCheckout();
      }
    }

    function populateCheckout() {
      const checkoutItems = document.getElementById('checkout-items');
      const checkoutSubtotal = document.getElementById('checkout-subtotal');
      const checkoutTax = document.getElementById('checkout-tax');
      const checkoutTotal = document.getElementById('checkout-total');
      
      if (checkoutItems) {
        checkoutItems.innerHTML = cart.map(item => `
          <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
            <span>${item.name} √ó ${item.quantity}</span>
            <span>${(item.price * item.quantity).toFixed(2)}</span>
          </div>
        `).join('');
      }
      
      const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      const tax = subtotal * 0.08; // 8% tax
      const total = subtotal + tax;
      
      if (checkoutSubtotal) checkoutSubtotal.textContent = `${subtotal.toFixed(2)}`;
      if (checkoutTax) checkoutTax.textContent = `${tax.toFixed(2)}`;
      if (checkoutTotal) checkoutTotal.textContent = `${total.toFixed(2)}`;
    }

    function selectPaymentMethod(method) {
      document.querySelectorAll('.payment-method').forEach(pm => pm.classList.remove('active'));
      event.target.closest('.payment-method').classList.add('active');
    }

    function processPayment(event) {
      event.preventDefault();
      
      // Simulate payment processing
      showNotification('Processing payment... üí≥', 'info');
      
      setTimeout(() => {
        // Send confirmation email
        const formData = new FormData(event.target);
        const customerEmail = formData.get('email') || 'customer@example.com';
        
        sendConfirmationEmail(customerEmail);
        
        // Clear cart and show success
        cart = [];
        updateCartUI();
        
        showNotification('Payment successful! Confirmation email sent. üéâ', 'success');
        
        // Hide payment section
        document.getElementById('payment').style.display = 'none';
        smoothScrollTo('#home');
      }, 3000);
    }

    function sendConfirmationEmail(email) {
      // In a real implementation, this would be handled by your backend
      console.log(`Sending confirmation email to: ${email}`);
      
      // Simulate email content
      const emailContent = {
        to: email,
        subject: 'FlexCore Order Confirmation - Welcome to the Future!',
        body: `
          Thank you for your FlexCore order! üéâ
          
          Your revolutionary modular footwear system is being prepared for shipment.
          
          Order Details:
          ${cart.map(item => `- ${item.name} √ó ${item.quantity}: ${(item.price * item.quantity).toFixed(2)}`).join('\n')}
          
          You'll receive a tracking number within 24 hours.
          
          Welcome to the FlexCore family!
          
          Best regards,
          The FlexCore Team
        `
      };
      
      // In production, make API call to send email
      // fetch('/api/send-email', { method: 'POST', body: JSON.stringify(emailContent) });
    }

    // Enhanced Chatbot Functions
    function toggleChatbot() {
      const chatbot = document.getElementById('chatbot-container');
      const toggle = document.getElementById('chatbot-toggle');
      
      if (chatbot.classList.contains('active')) {
        chatbot.classList.remove('active');
        toggle.style.display = 'flex';
      } else {
        chatbot.classList.add('active');
        toggle.style.display = 'none';
      }
    }

    function sendQuickReply(message) {
      addChatMessage(message, 'user');
      setTimeout(() => {
        const response = getBotResponse(message);
        addChatMessage(response, 'bot');
      }, 1000);
    }

    function sendChatMessage(event) {
      event.preventDefault();
      const input = document.getElementById('chat-input');
      const message = input.value.trim();
      
      if (!message) return;
      
      addChatMessage(message, 'user');
      input.value = '';
      
      setTimeout(() => {
        const response = getBotResponse(message);
        addChatMessage(response, 'bot');
      }, 1000);
    }

    function addChatMessage(message, sender) {
      const messagesContainer = document.getElementById('chatbot-messages');
      const messageElement = document.createElement('div');
      messageElement.style.cssText = 'display: flex; gap: 0.5rem; margin-bottom: 1rem;';
      
      if (sender === 'user') {
        messageElement.style.flexDirection = 'row-reverse';
      }
      
      const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
      
      messageElement.innerHTML = `
        <div style="width: 35px; height: 35px; background: ${sender === 'user' ? 'var(--accent-color)' : 'var(--primary-color)'}; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; flex-shrink: 0;">${sender === 'user' ? 'üë§' : 'ü§ñ'}</div>
        <div style="background: ${sender === 'user' ? 'var(--primary-color)' : 'var(--bg-light)'}; color: ${sender === 'user' ? 'white' : 'var(--text-dark)'}; padding: 1rem; border-radius: 15px; max-width: 80%;">
          <p style="margin: 0; line-height: 1.4;">${message}</p>
          <small style="opacity: 0.7; font-size: 0.7rem; margin-top: 0.5rem; display: block;">${time}</small>
        </div>
      `;
      
      messagesContainer.appendChild(messageElement);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    function getBotResponse(message) {
      const responses = {
        'how does flexcore work': 'FlexCore uses our patented QuickLock system! Simply align the core with your base shoe and twist to lock. The magnetic alignment ensures perfect positioning every time. You can switch between cores in under 30 seconds! üîß',
        'shipping': 'We offer free standard shipping (5-7 days) on orders over $50. Express shipping (2-3 days) is $9.99, and next-day delivery is $19.99. All orders are tracked and insured! üì¶',
        'return': 'Absolutely! We offer a 30-day money-back guarantee. If you\'re not satisfied, return your FlexCore products in original condition for a full refund. Return shipping is free! üîÑ',
        'sizes': 'FlexCore base shoes are available in US sizes 6-14 for both men and women, including half sizes. Our cores work universally with all base shoe sizes! üëü',
        'price': 'Base shoes start at $59.99, cores are $19.99-$29.99 each. Our starter kit (base + 2 cores) is just $94.99 - that\'s a $15 savings! üí∞'
      };
      
      const lowerMessage = message.toLowerCase();
      
      for (const [key, response] of Object.entries(responses)) {
        if (lowerMessage.includes(key)) {
          return response;
        }
      }
      
      const defaultResponses = [
        "Great question! I'm here to help with FlexCore info. Try asking about how it works, shipping, returns, or pricing! ü§ñ",
        "I'd love to help! Could you be more specific about FlexCore? Ask me about products, ordering, or our technology! ‚ö°",
        "Thanks for reaching out! I can help with FlexCore questions about products, shipping, sizing, or support! üí¨",
        "I'm your FlexCore assistant! Ask me anything about our modular shoe system, orders, or customer service! üëü"
      ];
      
      return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
    }

    // Enhanced Form Functions
    function handleSupportForm(event) {
      event.preventDefault();
      const formData = new FormData(event.target);
      
      // Simulate form submission to nagu.ram@gmail.com
      const supportData = {
        name: formData.get('name') || event.target.querySelector('[type="text"]').value,
        email: formData.get('email') || event.target.querySelector('[type="email"]').value,
        subject: formData.get('subject') || event.target.querySelector('select').value,
        message: formData.get('message') || event.target.querySelector('textarea').value,
        timestamp: new Date().toISOString()
      };
      
      showNotification('Sending message... üìß', 'info');
      
      // Simulate email to support
      setTimeout(() => {
        console.log('Support email sent to nagu.ram@gmail.com:', supportData);
        
        // In production, make API call:
        // fetch('/api/send-support-email', {
        //   method: 'POST',
        //   headers: { 'Content-Type': 'application/json' },
        //   body: JSON.stringify({
        //     ...supportData,
        //     to: 'nagu.ram@gmail.com'
        //   })
        // });
        
        showNotification('Message sent successfully! We\'ll respond within 24 hours. ‚úÖ', 'success');
        event.target.reset();
      }, 2000);
    }

    function handleNewsletterSignup(event) {
      event.preventDefault();
      const email = event.target.querySelector('[type="email"]').value;
      
      if (!email) return;
      
      showNotification('Subscribing... üìß', 'info');
      
      setTimeout(() => {
        // Send welcome email
        const welcomeEmailData = {
          to: email,
          subject: 'Welcome to FlexCore - Your Journey Begins! üéâ',
          body: `
            Welcome to the FlexCore family! üëã
            
            Thank you for subscribing to our newsletter. You're now part of a revolutionary community that's changing the way we think about footwear.
            
            As a subscriber, you'll be the first to know about:
            üÜï New core releases and limited editions
            üí∞ Exclusive discounts and member-only offers
            üì∞ FlexCore news and technology updates
            üéØ Tips for getting the most from your modular system
            
            Keep an eye on your inbox for exciting updates!
            
            Ready to start your FlexCore journey? Use code WELCOME10 for 10% off your first order.
            
            Best regards,
            The FlexCore Team
            
            P.S. Follow us on social media for daily inspiration and community features!
          `
        };
        
        console.log('Welcome email sent:', welcomeEmailData);
        
        // In production:
        // fetch('/api/send-newsletter-welcome', {
        //   method: 'POST',
        //   body: JSON.stringify(welcomeEmailData)
        // });
        
        showNotification(`Welcome aboard! Check ${email} for your welcome message! üéâ`, 'success');
        event.target.reset();
      }, 1500);
    }

    // Product Modal Functions
    function viewProduct(productId) {
      const productData = {
        'basic-bare': {
          title: 'Basic Bare',
          image: 'https://i.imgur.com/GuSEaVq.png',
          price: '$59.99',
          originalPrice: '$74.99',
          description: 'The foundation of your FlexCore system. This minimalist base shoe features premium materials and ergonomic design for all-day comfort.',
          features: ['Breathable mesh upper', 'Cushioned insole', 'Flexible sole design', 'Quick-lock core system', 'Available in 8 colors', 'Machine washable']
        },
        'starter-kit': {
          title: 'Complete Starter Kit',
          image: 'https://i.imgur.com/myAyR8N.png',
          price: '$94.99',
          originalPrice: '$109.97',
          description: 'Perfect for beginners! Includes one Basic Bare shoe plus your choice of any 2 cores. Everything you need to start your FlexCore journey.',
          features: ['1x Basic Bare shoe', 'Choice of 2 cores', 'Quick-start guide', 'Premium carrying case', 'Care instructions', '30-day money-back guarantee']
        },
        'casual-cores': {
          title: 'Casual Cores',
          image: 'https://i.imgur.com/MfhviPW.png',
          price: '$19.99',
          description: 'Versatile cores perfect for everyday wear and social events. Comfortable enough for all-day wear, stylish enough for any occasion.',
          features: ['Premium rubber sole', 'Slip-resistant grip', 'Easy 30-second attachment', 'Available in 6 colors', 'Machine washable', 'Weather resistant']
        },
        'core-case': {
          title: 'Premium Core Case',
          image: 'https://via.placeholder.com/300x250/667eea/ffffff?text=Core+Case',
          price: '$39.99',
          description: 'Organize and protect your cores with this premium carrying case. Features individual compartments and a sleek design.',
          features: ['Holds up to 8 cores', 'Durable nylon construction', 'Padded interior', 'Compact travel size', 'Lifetime warranty', 'FlexCore branding']
        }
      };
      
      const product = productData[productId];
      if (!product) {
        showNotification('Product details coming soon! üîÑ', 'info');
        return;
      }
      
      const modalTitle = document.getElementById('modal-title');
      const modalBody = document.getElementById('modal-body');
      
      modalTitle.textContent = product.title;
      modalBody.innerHTML = `
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; align-items: start;">
          <div>
            <img src="${product.image}" alt="${product.title}" style="width: 100%; border-radius: 12px; margin-bottom: 1rem;">
            <div style="display: flex; gap: 0.5rem;">
              <button class="btn btn-primary" style="flex: 1;" onclick="addToCart('${productId}', '${product.title}', ${parseFloat(product.price.replace('

  <!-- 3D Globe Section -->
  <section id="globe" class="globe-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">üåç Find FlexCore Worldwide</h2>
        <p class="section-subtitle">We ship globally and have stores in major cities</p>
      </div>
      
      <div class="globe-container">
        <canvas id="globe-canvas"></canvas>
      </div>
      
      <div class="store-locations">
        <div class="location-card" onclick="focusLocation('usa')">
          <div class="location-flag">üá∫üá∏</div>
          <h3>United States</h3>
          <p><strong>15</strong> stores</p>
          <p>New York, Los Angeles, Chicago, Miami, Austin</p>
        </div>
        <div class="location-card" onclick="focusLocation('uk')">
          <div class="location-flag">üá¨üáß</div>
          <h3>United Kingdom</h3>
          <p><strong>8</strong> stores</p>
          <p>London, Manchester, Edinburgh, Birmingham</p>
        </div>
        <div class="location-card" onclick="focusLocation('germany')">
          <div class="location-flag">üá©üá™</div>
          <h3>Germany</h3>
          <p><strong>12</strong> stores</p>
          <p>Berlin, Munich, Hamburg, Frankfurt</p>
        </div>
        <div class="location-card" onclick="focusLocation('japan')">
          <div class="location-flag">üáØüáµ</div>
          <h3>Japan</h3>
          <p><strong>10</strong> stores</p>
          <p>Tokyo, Osaka, Kyoto, Nagoya</p>
        </div>
        <div class="location-card" onclick="focusLocation('australia')">
          <div class="location-flag">üá¶üá∫</div>
          <h3>Australia</h3>
          <p><strong>6</strong> stores</p>
          <p>Sydney, Melbourne, Brisbane, Perth</p>
        </div>
        <div class="location-card" onclick="focusLocation('canada')">
          <div class="location-flag">üá®üá¶</div>
          <h3>Canada</h3>
          <p><strong>7</strong> stores</p>
          <p>Toronto, Vancouver, Montreal, Calgary</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Shoe Configurator Section -->
  <section id="configurator" class="configurator-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">üé® Design Your Perfect Shoe</h2>
        <p class="section-subtitle">Customize your FlexCore shoe with our interactive 3D configurator</p>
      </div>
      
      <div class="configurator-container">
        <div class="shoe-preview">
          <div class="shoe-viewer" id="shoe-viewer">
            <img src="https://i.imgur.com/GuSEaVq.png" alt="Custom Shoe" class="shoe-model" id="shoe-model">
          </div>
          <div class="price-display" id="price-display">$89.99</div>
          <button class="btn btn-primary btn-large" onclick="addCustomShoeToCart()">
            Add to Cart
          </button>
        </div>
        
        <div class="configurator-controls">
          <div class="control-group">
            <div class="control-label">üëü Base Color</div>
            <div class="color-options">
              <div class="color-option active" style="background: #000000" onclick="changeColor('black')" data-color="black"></div>
              <div class="color-option" style="background: #ffffff; border: 2px solid #ddd" onclick="changeColor('white')" data-color="white"></div>
              <div class="color-option" style="background: #667eea" onclick="changeColor('blue')" data-color="blue"></div>
              <div class="color-option" style="background: #f093fb" onclick="changeColor('pink')" data-color="pink"></div>
              <div class="color-option" style="background: #48bb78" onclick="changeColor('green')" data-color="green"></div>
              <div class="color-option" style="background: #ed8936" onclick="changeColor('orange')" data-color="orange"></div>
              <div class="color-option" style="background: #e53e3e" onclick="changeColor('red')" data-color="red"></div>
              <div class="color-option" style="background: #805ad5" onclick="changeColor('purple')" data-color="purple"></div>
            </div>
          </div>
          
          <div class="control-group">
            <div class="control-label">üìè Size</div>
            <div class="size-options">
              <div class="size-option" onclick="changeSize('6')" data-size="6">6</div>
              <div class="size-option" onclick="changeSize('7')" data-size="7">7</div>
              <div class="size-option" onclick="changeSize('8')" data-size="8">8</div>
              <div class="size-option active" onclick="changeSize('9')" data-size="9">9</div>
              <div class="size-option" onclick="changeSize('10')" data-size="10">10</div>
              <div class="size-option" onclick="changeSize('11')" data-size="11">11</div>
              <div class="size-option" onclick="changeSize('12')" data-size="12">12</div>
              <div class="size-option" onclick="changeSize('13')" data-size="13">13</div>
            </div>
          </div>
          
          <div class="control-group">
            <div class="control-label">‚ö° Select Core Type</div>
            <div class="core-selector">
              <div class="core-option active" onclick="selectCore('casual')" data-core="casual">
                <div class="core-icon">üëî</div>
                <div>Casual</div>
                <small>+$19.99</small>
              </div>
              <div class="core-option" onclick="selectCore('running')" data-core="running">
                <div class="core-icon">üèÉ</div>
                <div>Running</div>
                <small>+$24.99</small>
              </div>
              <div class="core-option" onclick="selectCore('formal')" data-core="formal">
                <div class="core-icon">ü§µ</div>
                <div>Formal</div>
                <small>+$29.99</small>
              </div>
              <div class="core-option" onclick="selectCore('sport')" data-core="sport">
                <div class="core-icon">‚öΩ</div>
                <div>Sport</div>
                <small>+$27.99</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Space Organizer Section -->
  <section id="space" class="space-section">
    <div class="container">
      <div class="closet-simulator">
        <div class="section-header">
          <h2 class="section-title">üè† Space-Saving Simulator</h2>
          <p class="section-subtitle">See how FlexCore transforms your closet space</p>
        </div>
        
        <div class="room-selector">
          <button class="room-btn active" onclick="selectRoom('small')">Small Apartment</button>
          <button class="room-btn" onclick="selectRoom('medium')">Medium Home</button>
          <button class="room-btn" onclick="selectRoom('large')">Large House</button>
        </div>
        
        <div class="closet-comparison">
          <div class="closet-side traditional-side">
            <h3>ü•ø Traditional Collection</h3>
            <div class="shoe-rack" id="traditional-rack"></div>
            <p><strong id="trad-pairs">8</strong> pairs ‚Ä¢ <strong id="trad-space">24</strong> sq ft</p>
          </div>
          
          <div class="closet-side flexcore-side">
            <h3>‚ö° FlexCore System</h3>
            <div style="text-align: center; margin: 1rem 0;">
              <div class="shoe-slot filled" style="display: inline-block; margin: 0 auto;" onclick="showShoeDetails()">
                üëü<br><small>Base</small>
              </div>
            </div>
            <h4>Cores Collection</h4>
            <div class="core-organizer" id="core-organizer"></div>
            <p><strong>1</strong> base + <strong id="core-count">8</strong> cores ‚Ä¢ <strong id="flex-space">3</strong> sq ft</p>
          </div>
        </div>
        
        <div class="space-stats">
          <div class="stat-card">
            <div class="stat-value" id="space-saved">87%</div>
            <div>Space Saved</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="storage-efficiency">8x</div>
            <div>More Efficient</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="cost-savings">$420</div>
            <div>Money Saved</div>
          </div>
        </div>
        
        <div style="text-align: center; margin: 2rem 0;">
          <button class="btn btn-primary" onclick="addShoes()">Add More Shoes</button>
          <button class="btn btn-secondary" onclick="removeShoes()">Remove Shoes</button>
          <button class="btn btn-secondary" onclick="resetCloset()">Reset</button>
        </div>
      </div>
    </div>
  </section>, ''))}, '${product.image}'); closeProductModal();">
                Add to Cart üõí
              </button>
              <button class="btn btn-secondary" onclick="addToWishlist('${productId}')">
                ‚ù§Ô∏è
              </button>
            </div>
          </div>
          <div>
            <div style="margin-bottom: 1.5rem;">
              <span style="font-size: 1.8rem; font-weight: 700; color: var(--primary-color);">${product.price}</span>
              ${product.originalPrice ? `<span style="text-decoration: line-through; color: var(--text-light); margin-left: 0.5rem; font-size: 1.2rem;">${product.originalPrice}</span>` : ''}
              ${product.originalPrice ? '<span style="background: #e6fffa; color: #00a085; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8rem; margin-left: 0.5rem;">SAVE!</span>' : ''}
            </div>
            <p style="margin-bottom: 2rem; line-height: 1.6; color: var(--text-dark);">${product.description}</p>
            <h4 style="margin-bottom: 1rem; color: var(--text-dark);">‚ú® Features:</h4>
            <ul style="list-style: none; padding: 0; margin-bottom: 2rem;">
              ${product.features.map(feature => `<li style="padding: 0.75rem 0; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; gap: 0.5rem;"><span style="color: var(--primary-color);">‚úì</span> ${feature}</li>`).join('')}
            </ul>
            <div style="background: var(--bg-light); padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem;">
              <h5 style="margin-bottom: 0.5rem; color: var(--text-dark);">üöö Free Shipping</h5>
              <p style="margin: 0; font-size: 0.9rem; color: var(--text-light);">On orders over $50. Delivery in 3-5 business days.</p>
            </div>
            <div style="background: var(--bg-light); padding: 1.5rem; border-radius: 8px;">
              <h5 style="margin-bottom: 0.5rem; color: var(--text-dark);">üõ°Ô∏è 30-Day Guarantee</h5>
              <p style="margin: 0; font-size: 0.9rem; color: var(--text-light);">Not satisfied? Return for a full refund.</p>
            </div>
          </div>
        </div>
      `;
      
      showProductModal();
    }

    function showProductModal() {
      const modal = document.getElementById('product-modal');
      const overlay = document.getElementById('modal-overlay');
      
      modal.classList.add('active');
      overlay.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeProductModal() {
      const modal = document.getElementById('product-modal');
      const overlay = document.getElementById('modal-overlay');
      
      modal.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = '';
    }

    function addToWishlist(productId) {
      showNotification('Added to wishlist! ‚ù§Ô∏è (Wishlist feature coming soon)', 'success');
    }

    // Animation and Visual Effects
    function startAnimations() {
      // Intersection Observer for scroll animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
            
            // Add special effects for different elements
            if (entry.target.classList.contains('feature-card')) {
              setTimeout(() => {
                entry.target.style.transform = 'translateY(0) scale(1.02)';
                setTimeout(() => {
                  entry.target.style.transform = 'translateY(0) scale(1)';
                }, 200);
              }, 300);
            }
          }
        });
      }, observerOptions);

      // Observe elements for animation
      document.querySelectorAll('.feature-card, .product-card, .location-card').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = 'translateY(30px)';
        el.style.transition = 'all 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
        observer.observe(el);
      });

      // Particle effect for hero section
      createParticleEffect();
      
      // Floating animation for product cards
      animateProductCards();
    }

    function createParticleEffect() {
      const hero = document.querySelector('.hero');
      if (!hero) return;
      
      for (let i = 0; i < 20; i++) {
        const particle = document.createElement('div');
        particle.style.cssText = `
          position: absolute;
          width: 4px;
          height: 4px;
          background: rgba(255, 255, 255, 0.3);
          border-radius: 50%;
          animation: float ${3 + Math.random() * 4}s infinite ease-in-out;
          animation-delay: ${Math.random() * 2}s;
          left: ${Math.random() * 100}%;
          top: ${Math.random() * 100}%;
          z-index: 1;
        `;
        hero.appendChild(particle);
      }
      
      // Add CSS animation
      const style = document.createElement('style');
      style.textContent += `
        @keyframes float {
          0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.3; }
          50% { transform: translateY(-20px) rotate(180deg); opacity: 1; }
        }
      `;
      document.head.appendChild(style);
    }

    function animateProductCards() {
      const productCards = document.querySelectorAll('.product-card');
      
      productCards.forEach((card, index) => {
        card.addEventListener('mouseenter', () => {
          card.style.transform = 'translateY(-15px) rotateX(5deg) rotateY(5deg)';
          card.style.boxShadow = '0 30px 60px rgba(0, 0, 0, 0.2)';
        });
        
        card.addEventListener('mouseleave', () => {
          card.style.transform = 'translateY(0) rotateX(0) rotateY(0)';
          card.style.boxShadow = '0 10px 25px rgba(0, 0, 0, 0.1)';
        });
      });
    }

    // Utility Functions
    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      notification.className = `notification ${type}`;
      
      const colors = {
        success: 'linear-gradient(135deg, #48bb78, #38a169)',
        error: 'linear-gradient(135deg, #f56565, #e53e3e)',
        info: 'linear-gradient(135deg, #4299e1, #3182ce)',
        warning: 'linear-gradient(135deg, #ed8936, #dd6b20)'
      };
      
      notification.style.cssText = `
        position: fixed;
        top: 100px;
        right: 20px;
        min-width: 300px;
        max-width: 400px;
        padding: 1rem 1.5rem;
        background: ${colors[type] || colors.info};
        color: white;
        border-radius: 12px;
        font-weight: 600;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        z-index: 10000;
        transform: translateX(100%);
        opacity: 0;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
      `;
      
      notification.textContent = message;
      notification.onclick = () => removeNotification(notification);
      
      document.body.appendChild(notification);
      
      // Trigger animation
      setTimeout(() => {
        notification.style.transform = 'translateX(0)';
        notification.style.opacity = '1';
      }, 100);
      
      // Auto remove
      setTimeout(() => {
        removeNotification(notification);
      }, 5000);
    }

    function removeNotification(notification) {
      notification.style.transform = 'translateX(100%)';
      notification.style.opacity = '0';
      setTimeout(() => {
        if (notification.parentNode) {
          notification.parentNode.removeChild(notification);
        }
      }, 300);
    }

    function showComingSoon() {
      showNotification('üöÄ This feature is coming soon! Stay tuned for updates.', 'info');
    }

    // Responsive Design Handlers
    function handleResize() {
      if (isGlobeInitialized && globeRenderer && globeCamera) {
        const canvas = document.getElementById('globe-canvas');
        if (canvas) {
          globeCamera.aspect = canvas.clientWidth / canvas.clientHeight;
          globeCamera.updateProjectionMatrix();
          globeRenderer.setSize(canvas.clientWidth, canvas.clientHeight);
        }
      }
    }

    window.addEventListener('resize', handleResize);

    // Performance Optimization
    function optimizePerformance() {
      // Lazy load images
      const imageObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const img = entry.target;
            if (img.dataset.src) {
              img.src = img.dataset.src;
              img.classList.add('loaded');
              imageObserver.unobserve(img);
            }
          }
        });
      });

      document.querySelectorAll('img[data-src]').forEach(img => {
        imageObserver.observe(img);
      });

      // Debounce scroll events
      let scrollTimeout;
      window.addEventListener('scroll', () => {
        if (scrollTimeout) clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(() => {
          updateActiveNavLink();
        }, 100);
      });
    }

    // Initialize performance optimizations
    setTimeout(optimizePerformance, 1000);

    // Analytics and Tracking
    function trackEvent(category, action, label, value) {
      console.log(`Analytics: ${category} - ${action} - ${label}${value ? ` - ${value}` : ''}`);
      
      // In production, integrate with Google Analytics, Mixpanel, etc:
      // gtag('event', action, {
      //   event_category: category,
      //   event_label: label,
      //   value: value
      // });
    }

    // Track user interactions
    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('btn')) {
        trackEvent('Button', 'Click', e.target.textContent.trim());
      }
      
      if (e.target.classList.contains('product-card')) {
        trackEvent('Product', 'View', e.target.querySelector('.product-title')?.textContent);
      }
    });

    // Error Handling
    window.addEventListener('error', (e) => {
      console.error('FlexCore Error:', e.error);
      showNotification('Oops! Something went wrong. Please refresh and try again. üîÑ', 'error');
    });

    // Welcome message
    setTimeout(() => {
      showNotification('Welcome to FlexCore! üëã Explore our revolutionary modular footwear system!', 'success');
    }, 3000);

    console.log('üéâ FlexCore website initialized successfully!');
  </script>
</body>
</html>

  <!-- 3D Globe Section -->
  <section id="globe" class="globe-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">üåç Find FlexCore Worldwide</h2>
        <p class="section-subtitle">We ship globally and have stores in major cities</p>
      </div>
      
      <div class="globe-container">
        <canvas id="globe-canvas"></canvas>
      </div>
      
      <div class="store-locations">
        <div class="location-card" onclick="focusLocation('usa')">
          <div class="location-flag">üá∫üá∏</div>
          <h3>United States</h3>
          <p><strong>15</strong> stores</p>
          <p>New York, Los Angeles, Chicago, Miami, Austin</p>
        </div>
        <div class="location-card" onclick="focusLocation('uk')">
          <div class="location-flag">üá¨üáß</div>
          <h3>United Kingdom</h3>
          <p><strong>8</strong> stores</p>
          <p>London, Manchester, Edinburgh, Birmingham</p>
        </div>
        <div class="location-card" onclick="focusLocation('germany')">
          <div class="location-flag">üá©üá™</div>
          <h3>Germany</h3>
          <p><strong>12</strong> stores</p>
          <p>Berlin, Munich, Hamburg, Frankfurt</p>
        </div>
        <div class="location-card" onclick="focusLocation('japan')">
          <div class="location-flag">üáØüáµ</div>
          <h3>Japan</h3>
          <p><strong>10</strong> stores</p>
          <p>Tokyo, Osaka, Kyoto, Nagoya</p>
        </div>
        <div class="location-card" onclick="focusLocation('australia')">
          <div class="location-flag">üá¶üá∫</div>
          <h3>Australia</h3>
          <p><strong>6</strong> stores</p>
          <p>Sydney, Melbourne, Brisbane, Perth</p>
        </div>
        <div class="location-card" onclick="focusLocation('canada')">
          <div class="location-flag">üá®üá¶</div>
          <h3>Canada</h3>
          <p><strong>7</strong> stores</p>
          <p>Toronto, Vancouver, Montreal, Calgary</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Shoe Configurator Section -->
  <section id="configurator" class="configurator-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">üé® Design Your Perfect Shoe</h2>
        <p class="section-subtitle">Customize your FlexCore shoe with our interactive 3D configurator</p>
      </div>
      
      <div class="configurator-container">
        <div class="shoe-preview">
          <div class="shoe-viewer" id="shoe-viewer">
            <img src="https://i.imgur.com/GuSEaVq.png" alt="Custom Shoe" class="shoe-model" id="shoe-model">
          </div>
          <div class="price-display" id="price-display">$89.99</div>
          <button class="btn btn-primary btn-large" onclick="addCustomShoeToCart()">
            Add to Cart
          </button>
        </div>
        
        <div class="configurator-controls">
          <div class="control-group">
            <div class="control-label">üëü Base Color</div>
            <div class="color-options">
              <div class="color-option active" style="background: #000000" onclick="changeColor('black')" data-color="black"></div>
              <div class="color-option" style="background: #ffffff; border: 2px solid #ddd" onclick="changeColor('white')" data-color="white"></div>
              <div class="color-option" style="background: #667eea" onclick="changeColor('blue')" data-color="blue"></div>
              <div class="color-option" style="background: #f093fb" onclick="changeColor('pink')" data-color="pink"></div>
              <div class="color-option" style="background: #48bb78" onclick="changeColor('green')" data-color="green"></div>
              <div class="color-option" style="background: #ed8936" onclick="changeColor('orange')" data-color="orange"></div>
              <div class="color-option" style="background: #e53e3e" onclick="changeColor('red')" data-color="red"></div>
              <div class="color-option" style="background: #805ad5" onclick="changeColor('purple')" data-color="purple"></div>
            </div>
          </div>
          
          <div class="control-group">
            <div class="control-label">üìè Size</div>
            <div class="size-options">
              <div class="size-option" onclick="changeSize('6')" data-size="6">6</div>
              <div class="size-option" onclick="changeSize('7')" data-size="7">7</div>
              <div class="size-option" onclick="changeSize('8')" data-size="8">8</div>
              <div class="size-option active" onclick="changeSize('9')" data-size="9">9</div>
              <div class="size-option" onclick="changeSize('10')" data-size="10">10</div>
              <div class="size-option" onclick="changeSize('11')" data-size="11">11</div>
              <div class="size-option" onclick="changeSize('12')" data-size="12">12</div>
              <div class="size-option" onclick="changeSize('13')" data-size="13">13</div>
            </div>
          </div>
          
          <div class="control-group">
            <div class="control-label">‚ö° Select Core Type</div>
            <div class="core-selector">
              <div class="core-option active" onclick="selectCore('casual')" data-core="casual">
                <div class="core-icon">üëî</div>
                <div>Casual</div>
                <small>+$19.99</small>
              </div>
              <div class="core-option" onclick="selectCore('running')" data-core="running">
                <div class="core-icon">üèÉ</div>
                <div>Running</div>
                <small>+$24.99</small>
              </div>
              <div class="core-option" onclick="selectCore('formal')" data-core="formal">
                <div class="core-icon">ü§µ</div>
                <div>Formal</div>
                <small>+$29.99</small>
              </div>
              <div class="core-option" onclick="selectCore('sport')" data-core="sport">
                <div class="core-icon">‚öΩ</div>
                <div>Sport</div>
                <small>+$27.99</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Space Organizer Section -->
  <section id="space" class="space-section">
    <div class="container">
      <div class="closet-simulator">
        <div class="section-header">
          <h2 class="section-title">üè† Space-Saving Simulator</h2>
          <p class="section-subtitle">See how FlexCore transforms your closet space</p>
        </div>
        
        <div class="room-selector">
          <button class="room-btn active" onclick="selectRoom('small')">Small Apartment</button>
          <button class="room-btn" onclick="selectRoom('medium')">Medium Home</button>
          <button class="room-btn" onclick="selectRoom('large')">Large House</button>
        </div>
        
        <div class="closet-comparison">
          <div class="closet-side traditional-side">
            <h3>ü•ø Traditional Collection</h3>
            <div class="shoe-rack" id="traditional-rack"></div>
            <p><strong id="trad-pairs">8</strong> pairs ‚Ä¢ <strong id="trad-space">24</strong> sq ft</p>
          </div>
          
          <div class="closet-side flexcore-side">
            <h3>‚ö° FlexCore System</h3>
            <div style="text-align: center; margin: 1rem 0;">
              <div class="shoe-slot filled" style="display: inline-block; margin: 0 auto;" onclick="showShoeDetails()">
                üëü<br><small>Base</small>
              </div>
            </div>
            <h4>Cores Collection</h4>
            <div class="core-organizer" id="core-organizer"></div>
            <p><strong>1</strong> base + <strong id="core-count">8</strong> cores ‚Ä¢ <strong id="flex-space">3</strong> sq ft</p>
          </div>
        </div>
        
        <div class="space-stats">
          <div class="stat-card">
            <div class="stat-value" id="space-saved">87%</div>
            <div>Space Saved</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="storage-efficiency">8x</div>
            <div>More Efficient</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="cost-savings">$420</div>
            <div>Money Saved</div>
          </div>
        </div>
        
        <div style="text-align: center; margin: 2rem 0;">
          <button class="btn btn-primary" onclick="addShoes()">Add More Shoes</button>
          <button class="btn btn-secondary" onclick="removeShoes()">Remove Shoes</button>
          <button class="btn btn-secondary" onclick="resetCloset()">Reset</button>
        </div>
      </div>
    </div>
  </section>
